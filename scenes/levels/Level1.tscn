[gd_scene load_steps=7 format=4 uid="uid://ck86g84xajy28"]

[ext_resource type="Texture2D" uid="uid://b8x6o0tf250py" path="res://assets/sprites/tiles/caveTiles.png" id="1_1pwbc"]
[ext_resource type="Script" uid="uid://nm7gmwwbmn44" path="res://scenes/levels/level_1.gd" id="1_x4si1"]
[ext_resource type="PackedScene" uid="uid://do7ygv6kbgkax" path="res://scenes/characters/player.tscn" id="2_j08sa"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_1pwbc"]
texture = ExtResource("1_1pwbc")
texture_region_size = Vector2i(250, 250)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
6:1/0 = 0
7:1/0 = 0
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
3:3/0 = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
5:4/0 = 0
5:4/0/physics_layer_1/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
6:5/0 = 0
6:5/0/physics_layer_2/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-125, -125, 125, -125, 125, 125, -125, 125)

[sub_resource type="TileSet" id="TileSet_j08sa"]
tile_size = Vector2i(250, 250)
physics_layer_0/collision_layer = 1
physics_layer_1/collision_layer = 1
physics_layer_2/collision_layer = 1
custom_data_layer_0/name = "Wall"
custom_data_layer_0/type = 2
sources/0 = SubResource("TileSetAtlasSource_1pwbc")

[sub_resource type="GDScript" id="GDScript_x4si1"]
script/source = "extends TileMap
# Function to convert the player's world position (node position) to tile coordinates
func get_player_tile():
	# Convert the player's world position to TileMap coordinates
	var player_tile = local_to_map(global_position)  # position refers to the player's world position
	print(\"Player Tile:\", player_tile)  # Debug: Print the player's tile coordinates
	return player_tile
"

[node name="Level1" type="Node2D"]
script = ExtResource("1_x4si1")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_j08sa")
format = 2
script = SubResource("GDScript_x4si1")

[node name="FloorLayer" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAHAAIAAAAIAAQAAAAHAAEAAAAIAAQAAAAJAAEAAAAIAAQAAAD/////AAAIAAQAAAAAAP//AAAIAAQAAAAAAP7/AAAIAAQAAAAAAP3/AAAJAAQAAAD///z/AAAJAAQAAAD+//z/AAAIAAUAAAD9//z/AAAIAAUAAAD8//z/AAAIAAUAAAD7//z/AAAJAAQAAAD6//z/AAAAAAUAAAD5//z/AAAAAAUAAAD4//z/AAAAAAUAAAD3//3/AAAIAAUAAAD2//3/AAAJAAQAAAD2/wIAAAAJAAQAAAD3/wIAAAAIAAQAAAD4/wIAAAAIAAQAAAD5/wIAAAAJAAQAAAD6/wIAAAAJAAQAAAD7/wIAAAAAAAUAAAD8/wIAAAAIAAUAAAD9/wIAAAAIAAUAAAD+/wIAAAAIAAQAAAD//wIAAAAIAAQAAAAAAAIAAAAIAAQAAAABAAIAAAACAAIAAAACAAIAAAABAAEAAAADAAIAAAAJAAQAAAAEAAIAAAAAAAUAAAAFAAEAAAAJAAQAAAAGAAEAAAAIAAQAAAAHAAAAAAAIAAUAAAAIAAAAAAAIAAUAAAAJAAAAAAAIAAUAAAAKAP//AAAJAAQAAAAKAP7/AAAJAAQAAAAJAP3/AAAIAAQAAAAIAP3/AAAAAAUAAAAHAP3/AAAAAAUAAAAGAP3/AAAIAAUAAAAFAP3/AAAJAAQAAAAEAP3/AAAJAAQAAAADAP3/AAAAAAUAAAACAP3/AAAJAAQAAAABAP3/AAAJAAQAAAD///3/AAAJAAQAAAD+//3/AAAJAAQAAAD9//3/AAAJAAQAAAD8//3/AAAJAAQAAAD7//3/AAAIAAUAAAD6//3/AAAJAAQAAAD5//3/AAAIAAUAAAD4//7/AAAAAAUAAAD3//7/AAAAAAUAAAD2//7/AAAJAAQAAAD2////AAAJAAQAAAD3////AAAAAAUAAAD4////AAAJAAQAAAD5//7/AAAJAAQAAAD6//7/AAAJAAQAAAD7//7/AAAJAAQAAAD8//7/AAAJAAQAAAD9//7/AAAJAAQAAAD+//7/AAAIAAQAAAD///7/AAAIAAQAAAABAP7/AAAIAAQAAAACAP7/AAAIAAQAAAADAP7/AAAJAAQAAAAIAPz/AAAAAAUAAAAJAPz/AAAIAAQAAAAKAPv/AAAJAAQAAAAJAPv/AAAIAAQAAAAIAPv/AAAJAAQAAAAHAPv/AAAJAAQAAAAGAPv/AAAJAAQAAAAFAPv/AAAJAAQAAAAEAPv/AAAIAAUAAAADAPv/AAAIAAUAAAACAPv/AAAIAAUAAAABAPv/AAAIAAUAAAAAAPv/AAAIAAUAAAD///v/AAAIAAUAAAD4//3/AAAJAAQAAAAGAPz/AAAIAAUAAAAHAPz/AAAIAAUAAAD4/wAAAAAAAAUAAAD5/wAAAAAIAAUAAAD6/wAAAAAAAAUAAAD7/wAAAAAJAAQAAAD8/wAAAAAJAAQAAAD9/wAAAAAJAAQAAAD+/wAAAAAIAAQAAAD//wAAAAAIAAQAAAAAAAAAAAAIAAQAAAABAAAAAAABAAEAAAACAP//AAABAAIAAAADAP//AAAJAAQAAAAEAP//AAAJAAQAAAAFAP//AAAAAAUAAAAGAP//AAAIAAUAAAAHAP//AAAAAAUAAAAJAP7/AAAIAAQAAAAAAPz/AAAAAAUAAAACAAAAAAACAAEAAAAHAP7/AAAIAAUAAAAGAPr/AAAIAAQAAAAFAPr/AAAIAAQAAAAEAPr/AAAIAAQAAAADAPr/AAAIAAQAAAACAPr/AAAIAAQAAAABAPr/AAAIAAQAAAD5////AAAIAAUAAAD7/wEAAAAIAAUAAAD8/wEAAAAIAAUAAAD9/wEAAAAAAAUAAAD+/wEAAAABAAEAAAD//wEAAAAIAAQAAAAAAAEAAAAIAAQAAAABAAEAAAACAAIAAAADAAAAAAAJAAQAAAAEAAAAAAAJAAQAAAAFAAAAAAAJAAQAAAAEAPz/AAAIAAUAAAACAPz/AAAJAAQAAAABAPz/AAAIAAUAAAD+//v/AAAIAAUAAAD9//v/AAAIAAUAAAD8//v/AAAJAAQAAAD7//v/AAAIAAUAAAD6//v/AAAJAAQAAAD5//v/AAAIAAUAAAD4//v/AAAAAAUAAAD3//z/AAAAAAUAAAD2//z/AAAIAAUAAAD6////AAAJAAQAAAD7////AAAIAAUAAAD8////AAAAAAUAAAD9////AAAAAAUAAAD+////AAAIAAQAAAABAP//AAAIAAQAAAAGAP7/AAAIAAUAAAAEAP7/AAAJAAQAAAD2/wAAAAAJAAQAAAD3/wAAAAAJAAQAAAAFAAIAAAAAAAUAAAAGAAIAAAAJAAQAAAD6/wMAAAAJAAQAAAD7/wMAAAAJAAQAAAD8/wMAAAAJAAQAAAD9/wMAAAAIAAUAAAD+/wMAAAAAAAUAAAD//wMAAAAIAAUAAAD6/wEAAAAIAAUAAAD2/wMAAAAJAAQAAAD3/wMAAAAIAAQAAAD4/wMAAAAIAAQAAAD4/wEAAAAJAAQAAAD4/wQAAAAIAAQAAAD5/wEAAAAAAAUAAAD5/wMAAAAIAAUAAAD5/wQAAAAJAAQAAAD5/wUAAAAIAAQAAAD6/wQAAAAJAAQAAAD7/wUAAAAIAAQAAAD8/wQAAAAAAAUAAAD9/wQAAAAJAAQAAAD+/wQAAAAJAAQAAAAAAAMAAAAAAAUAAAABAAMAAAAIAAUAAAD//wQAAAAJAAQAAAAAAAQAAAAJAAQAAAABAAQAAAAJAAQAAAD7/wQAAAAJAAQAAAACAAMAAAAIAAQAAAACAAEAAAACAAIAAAADAAEAAAAJAAQAAAAFAP7/AAAIAAUAAAAIAP7/AAAIAAUAAAAKAP3/AAAJAAQAAAAFAPz/AAAJAAQAAAADAPz/AAAJAAQAAAAGAAAAAAAJAAQAAAACAAQAAAAJAAQAAAADAAMAAAAJAAQAAAAEAAMAAAAJAAQAAAAFAAMAAAAJAAQAAAACAAYAAAAIAAQAAAABAAYAAAAIAAQAAAADAAYAAAAIAAQAAAAEAAUAAAAIAAQAAAAFAAUAAAAIAAQAAAAGAAUAAAAIAAQAAAAHAAUAAAAIAAQAAAAGAAQAAAAIAAQAAAAHAAQAAAAIAAQAAAAHAAYAAAAIAAQAAAAGAAYAAAAIAAQAAAAFAAYAAAAIAAQAAAAEAAYAAAAIAAQAAAACAAUAAAAIAAQAAAABAAUAAAAIAAQAAAAAAAUAAAAIAAQAAAD//wUAAAAIAAQAAAADAAQAAAAIAAQAAAAEAAQAAAAIAAQAAAAFAAQAAAAIAAQAAAAHAAMAAAAIAAQAAAAIAAEAAAAIAAQAAAAEAAEAAAAIAAQAAAAGAAMAAAAIAAQAAAAJAAIAAAAIAAQAAAAJAAMAAAAIAAQAAAAIAAMAAAAIAAQAAAAIAAQAAAAIAAQAAAAIAAIAAAAIAAQAAAD+/wUAAAAIAAQAAAD9/wUAAAAIAAQAAAD8/wUAAAAIAAQAAAD4/wUAAAAIAAQAAAD3/wQAAAAIAAQAAAD3/wEAAAAIAAQAAAD3//r/AAAIAAQAAAD4//r/AAAIAAQAAAD5//r/AAAIAAQAAAD6//r/AAAIAAQAAAD7//r/AAAIAAQAAAD8//r/AAAIAAQAAAD9//r/AAAIAAQAAAD+//r/AAAIAAQAAAD///r/AAAIAAQAAAAAAPr/AAAIAAQAAAAHAPr/AAAIAAQAAAAIAPr/AAAIAAQAAAAJAPr/AAAIAAQAAAAJAP//AAAIAAQAAAAIAP//AAAIAAQAAAADAAUAAAAJAAQAAAD6/wUAAAAJAAQAAAD3/wUAAAAJAAQAAAD3//v/AAAJAAQAAAAKAPr/AAAJAAQAAAAKAPz/AAAJAAQAAAAKAAMAAAAJAAQAAAAKAAQAAAAJAAQAAAAKAAUAAAAJAAQAAAAJAAQAAAAJAAQAAAAJAAUAAAAJAAQAAAAJAAYAAAAJAAQAAAAIAAYAAAAJAAQAAAAIAAUAAAAJAAQAAAAAAAYAAAAJAAQAAAD//wYAAAAJAAQAAAD+/wYAAAAJAAQAAAD9/wYAAAAJAAQAAAD8/wYAAAAJAAQAAAD7/wYAAAAJAAQAAAD6/wYAAAAJAAQAAAD5/wYAAAAJAAQAAAD4/wYAAAAJAAQAAAD3/wYAAAAJAAQAAAD2/wYAAAAJAAQAAAD2/wUAAAAJAAQAAAD2/wQAAAAJAAQAAAD2//v/AAAJAAQAAAD2//r/AAAJAAQAAAAKAAYAAAAJAAQAAAAKAAEAAAAJAAQAAAAKAAAAAAAJAAQAAAAKAAIAAAAJAAQAAAD2/wEAAAACAAIAAAA=")
tile_set = SubResource("TileSet_j08sa")

[node name="WallLayer" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD9//3/AAAAAAAAAAD9//7/AAAAAAEAAAD9////AAAAAAEAAAD9/wAAAAAAAAEAAAD9/wEAAAAAAAEAAAD9/wIAAAAAAAEAAAADAP3/AAADAAAAAAADAP7/AAADAAEAAAADAP//AAADAAEAAAADAAAAAAADAAEAAAADAAEAAAADAAIAAAADAAIAAAADAAEAAAD9/wMAAAAAAAMAAAD+//3/AAABAAAAAAD+/wMAAAABAAMAAAD///3/AAAAAAQAAAD//wMAAAABAAMAAAAAAP3/AAABAAAAAAAAAAMAAAABAAMAAAABAP3/AAABAAAAAAABAAMAAAABAAMAAAACAP3/AAABAAQAAAACAAMAAAABAAMAAAADAAMAAAADAAMAAAA=")
tile_set = SubResource("TileSet_j08sa")

[node name="ObjectLayer" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD+////AAAFAAQAAAD/////AAAFAAQAAAD//wEAAAAFAAQAAAAAAP7/AAAFAAQAAAABAP//AAAGAAUAAAABAAAAAAAFAAQAAAACAP7/AAAFAAQAAAACAP//AAAFAAQAAAACAAEAAAAGAAUAAAAAAAEAAAAGAAUAAAAAAAIAAAAFAAQAAAD+/wYAAAAFAAQAAAA=")
tile_set = SubResource("TileSet_j08sa")

[node name="GirlLayer" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAACAAIAAAAGAAQAAAA=")
tile_set = SubResource("TileSet_j08sa")

[node name="Player" parent="." instance=ExtResource("2_j08sa")]
position = Vector2(-377, -375)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Play" type="Button" parent="UI"]
layout_mode = 0
offset_left = 648.0
offset_top = 1177.0
offset_right = 829.0
offset_bottom = 1208.0
scale = Vector2(4.04, 4.48)
text = "Play"

[node name="Restart" type="Button" parent="UI"]
layout_mode = 0
offset_left = 1568.0
offset_top = 1174.0
offset_right = 1749.0
offset_bottom = 1205.0
scale = Vector2(4.04, 4.48)
text = "Restart"

[node name="StopRecording" type="Button" parent="UI"]
layout_mode = 0
offset_left = -324.0
offset_top = 1165.0
offset_right = -143.0
offset_bottom = 1196.0
scale = Vector2(4.68172, 4.80201)
text = "Stop Recording Inputs"

[node name="StartRecording" type="Button" parent="UI"]
layout_mode = 0
offset_left = -1208.0
offset_top = 1168.0
offset_right = -1027.0
offset_bottom = 1199.0
scale = Vector2(4.2, 4.64)
text = "Start Recording Inputs"

[node name="MovementLabel" type="Label" parent="UI"]
layout_mode = 0
offset_left = -2060.0
offset_top = -1096.0
offset_right = -2020.0
offset_bottom = -1073.0
scale = Vector2(7.84, 5.12)

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(175, 125)
zoom = Vector2(0.25, 0.25)

[connection signal="pressed" from="UI/Play" to="." method="_on_play_pressed"]
[connection signal="pressed" from="UI/Restart" to="." method="_on_restart_pressed"]
[connection signal="pressed" from="UI/StopRecording" to="." method="_on_stop_recording_pressed"]
[connection signal="pressed" from="UI/StartRecording" to="." method="_on_start_recording_pressed"]
